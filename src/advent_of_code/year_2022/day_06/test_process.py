import pytest

from advent_of_code.year_2022.day_06 import process


@pytest.mark.parametrize(
    "datastream, position",
    [
        ("mjqjpqmgbljsphdztnvjfqwrcgsmlb", 7),
        ("bvwbjplbgvbhsrlpgdmjqwftvncz", 5),
        ("nppdvjthqldpwncqszvftbrmjlhg", 6),
        ("nznrnfrfntjfmvfwmzdfjlvtqnbhcprsg", 10),
        ("zcfzfwzzqfrljwzlrfnpqdbhtmscgvjw", 11),
    ],
)
def test_detect_start_of_packet_marker_idx(datastream: str, position: int) -> None:
    assert process.detect_start_of_packet_marker_idx(datastream) == position


@pytest.mark.parametrize(
    "datastream, position",
    [
        ("mjqjpqmgbljsphdztnvjfqwrcgsmlb", 19),
        ("bvwbjplbgvbhsrlpgdmjqwftvncz", 23),
        ("nppdvjthqldpwncqszvftbrmjlhg", 23),
        ("nznrnfrfntjfmvfwmzdfjlvtqnbhcprsg", 29),
        ("zcfzfwzzqfrljwzlrfnpqdbhtmscgvjw", 26),
    ],
)
def test_detect_start_of_message_marker_idx(datastream: str, position: int) -> None:
    assert process.detect_start_of_message_marker_idx(datastream) == position
